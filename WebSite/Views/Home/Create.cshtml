@model WebSite.Models.Teacher
@{
    ViewBag.Title = "Добавление Преподавателя";
    Layout = "~/Views/Shared/_Layout.cshtml";
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        .center {
            display: flex;
            justify-content: center;
        }
    </style>
}
 
<h2>Добавление преподавателя и предмет</h2>
 
@using (Html.BeginForm())
{
    <fieldset>
        <legend><progress id="progress-bar" class="progress-bar" role="progressbar" style="width: 100%;" value="0" max="100"></progress></legend>
        <div style="display: flex;">
            <div style="width: 50%;">
               <h4>Преподаватель</h4>
                    <p>
                        ФИО <br />
                        @Html.EditorFor(model => model.Name, new { onchange = "updateProgressBar()" })
                        @Html.ValidationMessageFor(model => model.Name)
                    </p>
                    <p>
                        Дата рождения <br />
                        @Html.EditorFor(model => model.dateOfBirth, new { onchange = "updateProgressBar()" })
                        @Html.ValidationMessageFor(model => model.dateOfBirth)
                    </p>
                    <p>
                        Номер телефона <br />
                        @Html.EditorFor(model => model.contactInfo, new { onchange = "updateProgressBar()" })
                        @Html.ValidationMessageFor(model => model.contactInfo)
                    </p>
                    <p>
                        Должность  <br />
                        @Html.EditorFor(model => model.Position, new { onchange = "updateProgressBar()" })
                        @Html.ValidationMessageFor(model => model.Position)
                    </p>
                    <p>
                        Образование  <br />
                        @Html.EditorFor(model => model.education, new { onchange = "updateProgressBar()" })
                        @Html.ValidationMessageFor(model => model.education)
                    </p>
                    <p>
                        Опыт работы  <br />
                        @Html.EditorFor(model => model.expirience, new { onchange = "updateProgressBar()" })
                        @Html.ValidationMessageFor(model => model.expirience)
                    </p>
                    <p>
                        Научные достижения  <br />
                        @Html.EditorFor(model => model.achivments, new { onchange = "updateProgressBar()" })
                        @Html.ValidationMessageFor(model => model.achivments)
                    </p>
            </div>
            <div style="width: 50%;">
                   <h4>Предмет</h4>
                    <p>
                        Наименование предмета  <br />
                        @Html.EditorFor(model => model.Subject.Name, new { onchange = "updateProgressBar()" })
                        @Html.ValidationMessageFor(model => model.Subject.Name)
                    </p>
                    <p>
                        Описание предмета  <br />
                        @Html.EditorFor(model => model.Subject.Description, new { onchange = "updateProgressBar()" })
                        @Html.ValidationMessageFor(model => model.Subject.Description)
                    </p>
                    <p>
                        Количество часов  <br />
                        @Html.EditorFor(model => model.Subject.hours, new { onchange = "updateProgressBar()" })
                        @Html.ValidationMessageFor(model => model.Subject.hours)
                    </p>
                    <p>
                        Тип нагрузки <br />
                        @Html.EditorFor(model => model.Subject.loadType, new { onchange = "updateProgressBar()" })
                        @Html.ValidationMessageFor(model => model.Subject.loadType)
                    </p>
            </div>
        </div>
        <div class="center">
            <p>
                <input class="btn btn-success" type="submit" value="Добавить" />
            </p>
        </div>
    </fieldset>
}
<div class="center">
    <button class="btn btn-secondary" onclick="location.href='@Url.Action("Index", "Home")';return false;">
        <span>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-backspace" viewBox="0 0 16 16">
            <path d="M5.83 5.146a.5.5 0 0 0 0 .708L7.975 8l-2.147 2.146a.5.5 0 0 0 .707.708l2.147-2.147 2.146 2.147a.5.5 0 0 0 .707-.708L9.39 8l2.146-2.146a.5.5 0 0 0-.707-.708L8.683 7.293 6.536 5.146a.5.5 0 0 0-.707 0z"/>
            <path d="M13.683 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7.08a2 2 0 0 1-1.519-.698L.241 8.65a1 1 0 0 1 0-1.302L5.084 1.7A2 2 0 0 1 6.603 1h7.08zm-7.08 1a1 1 0 0 0-.76.35L1 8l4.844 5.65a1 1 0 0 0 .759.35h7.08a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1h-7.08z"/>
            </svg>
        </span>
        К списку
    </button>
</div>
@section scripts {
    <script>
        $(function () {
            // Get all input fields and the progress bar
            var fields = $('input[type="text"], input[type="date"], textarea');
            var progressBar = $('#progress-bar');

            // Calculate progress based on number of fields filled out
            function updateProgress() {
                var filledOutFields = fields.filter(function () {
                    return $(this).val() != '';
                }).length;
                var progress = filledOutFields / fields.length * 100;
                progressBar.val(progress);
            }

            // Bind to input change events
            fields.on('input change', updateProgress);
        });
    </script>
}